# Injecting environment variables
$env:AWS_ACCESS_KEY_ID="${AWS_ACCESS_KEY_ID}" #
$env:AWS_SECRET_ACCESS_KEY="${AWS_SECRET_ACCESS_KEY}" #
$env:SPN_CLIENT_ID="${SPN_CLIENT_ID}" #
$env:SPN_CLIENT_SECRET="${SPN_CLIENT_SECRET}" #
$env:SPN_TENANT_ID="${SPN_TENANT_ID}" #
$env:SPN_AUTHORITY="${SPN_AUTHORITY}" #
$env:AZDATA_USERNAME="${AZDATA_USERNAME}" #
$env:AZDATA_PASSWORD="${AZDATA_PASSWORD}" #
$env:ACCEPT_EULA="${ACCEPT_EULA}" #
$env:ARC_DC_NAME="${ARC_DC_NAME}" #
$env:ARC_DC_SUBSCRIPTION="${ARC_DC_SUBSCRIPTION}" #
$env:ARC_DC_RG="${ARC_DC_RG}"
$env:ARC_DC_REGION="${ARC_DC_REGION}"
$env:DOCKER_REGISTRY="${DOCKER_REGISTRY}"
$env:DOCKER_REPOSITORY="${DOCKER_REPOSITORY}"
$env:DOCKER_TAG="${DOCKER_TAG}"
$env:adminUsername="${adminUsername}" # admin user for what?
$env:clusterName="${cluster-name}" # confirm this is EKS cluster name
$env:resourceGroup="${resourceGroup}" # where are we using this?
$env:REGISTRY_USERNAME="${REGISTRY_USERNAME}" # which registry
$env:REGISTRY_PASSWORD="${REGISTRY_PASSWORD}" # which registry user
$env:MSSQL_MI_NAME="${MSSQL_MI_NAME}" # where does this come from

[System.Environment]::SetEnvironmentVariable('AWS_ACCESS_KEY_ID', $AWS_ACCESS_KEY_ID,[System.EnvironmentVariableTarget]::Machine)
[System.Environment]::SetEnvironmentVariable('AWS_SECRET_ACCESS_KEY', $AWS_SECRET_ACCESS_KEY,[System.EnvironmentVariableTarget]::Machine)
[System.Environment]::SetEnvironmentVariable('SPN_CLIENT_ID', $SPN_CLIENT_ID,[System.EnvironmentVariableTarget]::Machine)
[System.Environment]::SetEnvironmentVariable('SPN_CLIENT_SECRET', $SPN_CLIENT_SECRET,[System.EnvironmentVariableTarget]::Machine)
[System.Environment]::SetEnvironmentVariable('SPN_TENANT_ID', $SPN_TENANT_ID,[System.EnvironmentVariableTarget]::Machine)
[System.Environment]::SetEnvironmentVariable('SPN_AUTHORITY', $SPN_AUTHORITY,[System.EnvironmentVariableTarget]::Machine)
[System.Environment]::SetEnvironmentVariable('adminUsername', $adminUsername,[System.EnvironmentVariableTarget]::Machine)
[System.Environment]::SetEnvironmentVariable('clusterName', $clusterName,[System.EnvironmentVariableTarget]::Machine)
[System.Environment]::SetEnvironmentVariable('resourceGroup', $resourceGroup,[System.EnvironmentVariableTarget]::Machine)
[System.Environment]::SetEnvironmentVariable('AZDATA_USERNAME', $AZDATA_USERNAME,[System.EnvironmentVariableTarget]::Machine)
[System.Environment]::SetEnvironmentVariable('AZDATA_PASSWORD', $AZDATA_PASSWORD,[System.EnvironmentVariableTarget]::Machine)
[System.Environment]::SetEnvironmentVariable('ACCEPT_EULA', $ACCEPT_EULA,[System.EnvironmentVariableTarget]::Machine)
[System.Environment]::SetEnvironmentVariable('REGISTRY_USERNAME', $REGISTRY_USERNAME,[System.EnvironmentVariableTarget]::Machine)
[System.Environment]::SetEnvironmentVariable('REGISTRY_PASSWORD', $REGISTRY_PASSWORD,[System.EnvironmentVariableTarget]::Machine)
[System.Environment]::SetEnvironmentVariable('ARC_DC_NAME', $ARC_DC_NAME,[System.EnvironmentVariableTarget]::Machine)
[System.Environment]::SetEnvironmentVariable('ARC_DC_SUBSCRIPTION', $ARC_DC_SUBSCRIPTION,[System.EnvironmentVariableTarget]::Machine)
[System.Environment]::SetEnvironmentVariable('ARC_DC_REGION', $ARC_DC_REGION,[System.EnvironmentVariableTarget]::Machine)
[System.Environment]::SetEnvironmentVariable('ARC_DC_RG', $ARC_DC_RG,[System.EnvironmentVariableTarget]::Machine)
[System.Environment]::SetEnvironmentVariable('MSSQL_MI_NAME', $MSSQL_MI_NAME,[System.EnvironmentVariableTarget]::Machine)
[System.Environment]::SetEnvironmentVariable('DOCKER_REGISTRY', $DOCKER_REGISTRY,[System.EnvironmentVariableTarget]::Machine)
[System.Environment]::SetEnvironmentVariable('DOCKER_REPOSITORY', $DOCKER_REPOSITORY,[System.EnvironmentVariableTarget]::Machine)
[System.Environment]::SetEnvironmentVariable('DOCKER_TAG', $DOCKER_TAG,[System.EnvironmentVariableTarget]::Machine)